<!DOCTYPE html>
<html>
   <head>
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
      <meta name="apple-mobile-web-app-capable" content="yes" />
      <meta name="apple-touch-fullscreen" content="yes" />
      <meta property="fb:admins" content="725565520"/>
      <meta property="fb:app_id" content="197968780267830"/>
      <!--
      <link rel="apple-touch-icon-precomposed" href="resouces/img/icon_57.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="resources/img/icon_72.png"/>
      <link rel="apple-touch-icon-precomposed" sizes="114x114" href="resources/img/icon_114.png"/>
      <link rel="apple-touch-startup-image" media="screen and (resolution: 326dpi)" href="resources/themes/images/v1/startup_640.png"
      />
      <link rel="apple-touch-startup-image" media="screen and (resolution: 163dpi)" href="resources/themes/images/v1/startup_640.png"
      />
      -->
      <meta name="apple-mobile-web-app-status-bar-style" content="black" />
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>KickBak</title>
      <!--
      min-width: 320px  // smartphones, iPhone, portrait 480x320 phones
      min-width: 481px  // portrait e-readers (Nook/Kindle), smaller tablets @ 600 or @ 640 wide.
      min-width: 641px  // portrait tablets, portrait iPad, landscape e-readers, landscape 800x480 and 854x480 phones
      min-width: 961px  // tablet, landscape iPad, lo-res laptops ands desktops
      min-width: 1025px // big landscape tablets, laptops, and desktops
      min-width: 1281px // hi-res laptops and desktops
      -->
      <link rel="stylesheet" type="text/css" media="screen" href="resources/css/iphone.css">
      <!--
      <link rel="stylesheet" href="resources/css/iphone.css" type="text/css">
      <link media="screen and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" rel="stylesheet" href="resources/css/iphone5.css" type="text/css">
      -->
      <!-- If your application is targeting iOS BEFORE 4.0 you MUST put json2.js from http://www.JSON.org/json2.js into your www
      <script type="text/javascript" src="lib/cordova-2.8.1.ios.js"></script>
      directory and include it here -->
      <script type="text/javascript">
         _build = "MobileClientDesktop";
      </script>
      <script type="text/javascript" src="../lib/touch-2.1.1/sencha-touch-all-debug.js"></script>
      
      <script type="text/javascript" src="../lib/gibberish-aes.min.js"></script>
      <script type="text/javascript" src="../lib/add2home.js"></script>
      <script type="text/javascript" src="../lib/core/qrcode.js"></script>
      <script type="text/javascript" src="../lib/core/date.js"></script>
      <script type="text/javascript" src="../lib/core/extras.js"></script>
      <script type="text/javascript" src="../lib/core/RiffWave.js"></script>
      <script type="text/javascript" src="../lib/core/Genesis.js"></script>
      <script type="text/javascript" src="../lib/core/FacebookConnect.js"></script>
      <script type="text/javascript">
         var backBtnCallbackListFn = [], phoneGapAvailable = false, _filesAssetCount= 0;
         var debugMode = true;
         var serverHost;
         //serverHost = 'http://192.168.0.52:3000';
         //serverHost = 'http://192.168.0.46:3000';
	  	   //serverHost = 'http://76.10.173.153';
  		   serverHost = 'http://www.dev1getkickbak.com';
		   //serverHost = 'http://www.devgetkickbak.com';
		   //serverHost = 'http://www.getkickbak.com';
         var merchantMode = false, appName = 'GetKickBak', _application, _appPath = "app", _extPath = '../lib/touch-2.1.1/src';

         Ext.Loader.setConfig(
         {
            enabled : true,
            paths :
            {
               Ext : _extPath,
               Genesis : _appPath
            }
         });
         /*
          window.fbAsyncInit = function()
          {
          FB.init(
          {
          appId : _appId,
          useCachedDialogs : true,
          frictionlessRequests : true,
          status : true,
          cookie : true,
          xfbml : true,
          oauth : true
          });
          }
          */
      </script>
      <script type="text/javascript" src="lib/core/ProximityID.js"></script>
      <!--
      SenchaTouch Libs
      -->
      <script type="text/javascript" src="lib/core/Overrides.js"></script>
      <!-- View Widgets -->
      <script type="text/javascript" src="app/profile/Desktop.js"></script>
      <!-- View Widgets -->
      <script type="text/javascript" src="app/view/widgets/Scroll.js"></script>
      <script type="text/javascript" src="app/view/widgets/ListField.js"></script>
      <script type="text/javascript" src="app/view/widgets/Calculator.js"></script>
      <script type="text/javascript" src="app/view/widgets/ComponentListItem.js"></script>
      <script type="text/javascript" src="app/view/widgets/ComponentList.js"></script>
      <script type="text/javascript" src="app/view/ViewBase.js"></script>
      <script type="text/javascript" src="app/view/widgets/Item.js"></script>
      <script type="text/javascript" src="app/view/widgets/ItemDetail.js"></script>
      <script type="text/javascript" src="app/view/widgets/MerchantDetailsItem.js"></script>
      <script type="text/javascript" src="app/view/widgets/MerchantAccountPtsItem.js"></script>
      <script type="text/javascript" src="app/view/widgets/RedeemPtsItem.js"></script>
      <!-- Models -->
      <script type="text/javascript" src="app/model/frontend/LicenseClientKey.js"></script>
      <script type="text/javascript" src="app/model/frontend/MainPage.js"></script>
      <script type="text/javascript" src="app/model/frontend/JackpotWinner.js"></script>
      <script type="text/javascript" src="app/model/UserProfile.js"></script>
      <script type="text/javascript" src="app/model/User.js"></script>
      <script type="text/javascript" src="app/model/Merchant.js"></script>
      <script type="text/javascript" src="app/model/Challenge.js"></script>
      <script type="text/javascript" src="app/model/Checkin.js"></script>
      <script type="text/javascript" src="app/model/PurchaseReward.js"></script>
      <script type="text/javascript" src="app/model/CustomerReward.js"></script>
      <script type="text/javascript" src="app/model/Venue.js"></script>
      <script type="text/javascript" src="app/model/News.js"></script>
      <script type="text/javascript" src="app/model/Badge.js"></script>
      <script type="text/javascript" src="app/model/Customer.js"></script>
      <script type="text/javascript" src="app/model/frontend/Account.js"></script>
      <script type="text/javascript" src="app/model/frontend/Signin.js"></script>
      <script type="text/javascript" src="app/model/frontend/ChangePassword.js"></script>
      <!-- Views -->
      <script type="text/javascript" src="app/view/Document.js"></script>
      <script type="text/javascript" src="app/view/client/CheckinExplore.js"></script>
      <script type="text/javascript" src="app/view/Viewport.js"></script>
      <script type="text/javascript" src="app/view/client/ChallengePage.js"></script>
      <script type="text/javascript" src="app/view/MainPageBase.js"></script>
      <script type="text/javascript" src="app/view/LoginPage.js"></script>
      <script type="text/javascript" src="app/view/RedeemBase.js"></script>
      <script type="text/javascript" src="app/view/client/MainPage.js"></script>
      <script type="text/javascript" src="app/view/client/Badges.js"></script>
      <script type="text/javascript" src="app/view/client/JackpotWinners.js"></script>
      <script type="text/javascript" src="app/view/client/MerchantAccount.js"></script>
      <script type="text/javascript" src="app/view/client/MerchantDetails.js"></script>
      <script type="text/javascript" src="app/view/client/SettingsPage.js"></script>
      <script type="text/javascript" src="app/view/client/Accounts.js"></script>
      <script type="text/javascript" src="app/view/client/AccountsTransfer.js"></script>
      <script type="text/javascript" src="app/view/client/UploadPhotosPage.js"></script>
      <script type="text/javascript" src="app/view/client/Referrals.js"></script>
      <script type="text/javascript" src="app/view/client/Rewards.js"></script>
      <script type="text/javascript" src="app/view/client/Redemptions.js"></script>
      <script type="text/javascript" src="app/view/client/Prizes.js"></script>
      <script type="text/javascript" src="app/view/widgets/client/RedeemItemDetail.js"></script>
      <!-- Controllers -->
      <script type="text/javascript" src="app/controller/ControllerBase.js"></script>
      <script type="text/javascript" src="app/controller/ViewportBase.js"></script>
      <script type="text/javascript" src="app/controller/RedeemBase.js"></script>
      <script type="text/javascript" src="app/controller/RewardRedemptionsBase.js"></script>
      <script type="text/javascript" src="app/controller/PrizeRedemptionsBase.js"></script>
      <script type="text/javascript" src="app/controller/MainPageBase.js"></script>
      <script type="text/javascript" src="app/controller/SettingsBase.js"></script>
      <script type="text/javascript" src="app/controller/client/Settings.js"></script>
      <script type="text/javascript" src="app/controller/client/MainPage.js"></script>
      <script type="text/javascript" src="app/controller/client/Viewport.js"></script>
      <script type="text/javascript" src="app/controller/client/Checkins.js"></script>
      <script type="text/javascript" src="app/controller/client/Challenges.js"></script>
      <script type="text/javascript" src="app/controller/mobileClient/Challenges.js"></script>
      <script type="text/javascript" src="app/controller/client/Merchants.js"></script>
      <script type="text/javascript" src="app/controller/client/Badges.js"></script>
      <script type="text/javascript" src="app/controller/client/JackpotWinners.js"></script>
      <script type="text/javascript" src="app/controller/client/Rewards.js"></script>
      <script type="text/javascript" src="app/controller/client/Redemptions.js"></script>
      <script type="text/javascript" src="app/controller/client/Accounts.js"></script>
      <script type="text/javascript" src="app/controller/client/Prizes.js"></script>
      <!-- External Libs -->
      <!--
      <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
      -->
   </head>
   <body>
      <div id="fb-root"></div>
      <script type="text/javascript">
         // If you want to prevent dragging, uncomment this section
         /*
          function preventBehavior(e)
          {
          e.preventDefault();
          };
          document.addEventListener("touchmove", preventBehavior, false);
          */

         /* If you are supporting your own protocol, the var invokeString will contain any arguments to the app launch.
          see http://iphonedevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html
          for more details -jm */
         /*
          function handleOpenURL(url)
          {
          // TODO: do something with the url passed in.
          }
          */
         /* When this function is called, PhoneGap has been initialized and is ready to roll */
         /* If you are supporting your own protocol, the var invokeString will contain any arguments to the app launch.
          see http://iphonedevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html
          for more details -jm */

         function appInit()
         {
            console.log("appInit - start");
            Ext.application(
            {
               requires : ['Ext.device.Connection', 'Ext.device.Notification', 'Ext.device.Camera', 'Ext.device.Communicator', 'Ext.device.Geolocation', 'Ext.device.Orientation'],
               profiles : ['Desktop'],
               views : ['Document', 'client.UploadPhotosPage', 'client.ChallengePage', 'client.Rewards', 'client.Redemptions', //
               'client.AccountsTransfer', 'client.SettingsPage', //
               'client.CheckinExplore', 'LoginPage', 'SignInPage', 'client.MainPage', 'widgets.client.RedeemItemDetail', 'client.Badges', 'client.JackpotWinners', 'client.MerchantAccount',
               // //
               'client.MerchantDetails', 'client.Accounts', 'client.Prizes', 'Viewport'],
               controllers : ['client.Challenges', 'client.Rewards', 'client.Redemptions', //
               'client.Viewport', 'client.MainPage', 'client.Badges', 'client.Merchants', 'client.Accounts', 'client.Settings', 'client.Checkins', 'client.JackpotWinners', 'client.Prizes'],
               launch : function()
               {
                  _application = this;
                  //this.redirectTo('');
                  Ext.create('Genesis.view.Viewport');
                  console.log("Launched App");
               },
               appFolder : _appPath,
               name : 'Genesis'
            });

            console.log("appInit - end");
         }


         window.onerror = function(e, url, linenum)
         {
            console.log("Error on Line#" + linenum + "\n" + e);
         }
         appInit();

      </script>
      <div class="clientPhotoCache"></div>
      <p style="display:none;">
         <audio id="win_prize_sound" preload="auto" autobuffer>
            <source src="resources/audio/win_prize_sound.mp3" type="audio/mp3" />
         </audio>
         <audio id="lose_prize_sound" preload="auto" autobuffer>
            <source src="resources/audio/lose_prize_sound.mp3" type="audio/mp3" />
         </audio>
         <audio id="refresh_list_sound" preload="auto" autobuffer>
            <source src="resources/audio/refresh_list_sound.mp3" type="audio/mp3" />
         </audio>
         <audio id="click_sound" preload="auto" autobuffer>
            <source src="resources/audio/click_sound.mp3" type="audio/mp3" />
         </audio>
         <audio id="promote_sound" preload="auto" autobuffer>
            <source src="resources/audio/promote_sound.mp3" type="audio/mp3" />
         </audio>
         <audio id="roulette_spin_sound" preload="auto" autobuffer>
            <source src="resources/audio/roulette_spin_sound.mp3" type="audio/mp3" />
         </audio>
         <audio id="beep" preload="auto" autobuffer>
            <source src="resources/audio/beep.wav" type="audio/wav" />
         </audio></p>
   </body>
</html>

["/*01d69109c8eb5766fe56520d9b86fbc0f3bdca5a",42,580365,580427,7217,"emailRegex",392798,76,"setCre",588407,116,"sign_up",581579,32,"widgets.",397866,35,"item\",alias:\"widget.item\",config:{cls:\"item\",tag:\"item\",layout:\"fit\"}",159550,35,";c=c||{};d.config.preItemsConfig=d.config.preItemsConfig||[];d.config.postItemsConfig=d.config.postItemsConfig||[];d.config.photoTemplate=d.config.photoTemplate||null;var a=c.preItemsConfig||[];var e=c.postItemsConfig||[];var b=c.photoTemplate||d.config.photoTemplate;Ext.merge(a,d.config.preItemsConfig);Ext.merge(e,d.config.postItemsConfig);delete c.preItemsConfig;delete c.postItemsConfig;delete c.photoTemplate;Ext.merge(c,{items:[{docked:\"top\",xtype:\"component\",tag:\"title\",cls:\"title\",defaultUnit:\"em\",tpl:Ext.create(\"Ext.XTemplate\",\"{[this.getDescription(values)]}\",{getDescription:function(f){return f.title}})}].concat(a,[{xtype:\"component\",tag:\"itemPhoto\",cls:\"itemPhoto\",tpl:(b)?b:Ext.create(\"Ext.XTemplate\",'<div class=\"photoVCenterHelper\"></div>','<div class=\"photoVCenterContent\"><img {[this.getPhoto(values)]} /></div>',{getPhoto:function(f){var g=f.photo;if(Ext.isString(g)){return'src=\"'+g+'\"'}else{return'src=\"'+g.url+'\" '+((g.width)?'style=\"width:'+KickBak.fn.addUnit(g.width)+\";height:\"+KickBak.fn.addUnit(g.height)+';\"':\"\")}}})}],e)});this",590495,78,"updateItem(this.getData())},updateItem:function(d){var c=this;var b=d.raw;var a=c.query(\"component[tag=itemPhoto]\")[0];var e=c.query(\"component[tag=title]\")[0];if(b.title){e.setData(b);e.show()}else{e.hide()}a.setData(b);c.setData(d);return b},inheritableStatics:{",586435,37,"PopupItem\",{extend:KickBak.view.widgets.Item,xtype:\"popupitem\",alias:\"widget.popupitem\",config:{iconType:null",588912,37,"Ext.merge(a,{tag:\"popupItem\",photoTemplate:Ext.create(\"Ext.XTemplate\",'<div class=\"photoVCenterHelper\"></div>','<div class=\"photoVCenterContent\"><img {[this.getPhoto(values)]} /></div>',{getPhoto:function(c){var d=b.self.getPhoto(c.type,b.getIconType());return'src=\"'+d+'\"'}})});b.callParent(arguments)},inheritableStatics:{getPhoto:function(b,a){var c=KickBak.constants.getIconPath(a,b.value);return c}}});Ext.define(\"KickBak.model.CustomerReward\",{extend:Ext.data.Model,id:\"CustomerReward\",alternateClassName:\"CustomerReward\",config:{fields:[\"id\",\"title\",\"points\",\"type\",\"photo\",\"quantity_limited\",\"quantity\",\"time_limited\",{name:\"expiry_date\",type:\"date\",convert:function(a,b){a=Date.parse(a,\"yyyy-MM-dd\");return(a)?KickBak.fn.convertDateNoTimeNoWeek(a):null}}],idProperty:\"id\"",587243,60,587349,68,"}},inheritableStatics:{",586435,37,"ItemDetail\",{",586436,36,"PopupItemDetail",482725,35,"opupitemdetailview\",config:{bottom:0,left:0,top:0,right:0",556007,38,556072,80,"},constructor:function(b){var d=this;b=b||{};var c=b.buttons||[];delete b.buttons;var a=b.preItemsConfig||[];var e=b.postItemsConfig||[];delete b.preItemsConfig;delete b.postItemsConfig;Ext.merge(b,{items:[{preItemsConfig:a,postItemsConfig:e,iconType:b.iconType,flex:1,xtype:\"popupitem\",data:",560473,34,"Reward\",{title:b.title,type:{value:b.icon}})",556376,60,556444,32,"c}]});delete b.iconType;delete b.icon;d",150848,38,588556,247,"unsupportedDeviceMsg:\"Sorry, this mobile device is not support at this time. Visit our website with your desktop to SignIn",588800,235,"cls:\"navigationBarTop kbTitle",589056,879,589936,241,"signUp",590190,775,",signUpSuccessPopup:function(){var a=this;if(!a._actions){a._actions=Ext.create(\"KickBak.view.widgets.PopupItemDetail\",{iconType:\"prizewon\",icon:\"giftcertificate\",cls:\"viewport\",title:\"Congratulations!\"+KickBak.constants.addCRLF()+\"You have registered with KICKBAK\",buttons:[{margin:\"0 0 0.5 0\",text:\"Download Mobile App Now!\",ui:\"action\",height:\"3em\",handler:function(){if(Ext.os.is(\"iOS\")){location.href=\"http://itunes.apple.com/us/app/kickbak-inc/id537476722?ls=1&mt=8\"}else{if(Ext.os.is(\"Android\")){location.href=\"https://play.google.com/store/apps/details?id=com.getkickbak.kickbak\"",597343,42,"\"KICKBAK\",message:a.unsupportedDeviceMsg,buttons:[\"Dismiss\"]})}}}}]});Ext.Viewport.add(a._actions)}a._actions.show()",583037,35,590999,82,"creatingAccountMsg:\"Creating Your Account ...",591079,1397,"button[tag=signUp]\":{tap:\"onSignUp",592688,43,592658,316,593057,322,"n:function(d,c){return db.account[\"name\"]}",593527,49,593426,103,"n:function(d,c){return db.account[\"email\"]}",593527,776,";a.response=b},updateFBSignUpPopupCallback:function(f,b){var d=this,e=d.getSignUpPage();var a=e",597710,39,562895,33,"!f||((b&&!b.wasSuccessful()))||(f.type==\"timeout\")){if(!e",594497,33,"d.updateFBSignUp(f);if(a){a.setValue(1);a.originalValue=1;d.updateAccountInfo(f);var c=e",594604,35,"e",594640,42,"c._title.element.getY()-66,true)}}",594303,67,"KickBak.fb.facebook_onLogin(false",594728,461,595341,370,"SignUpTap:function(k,g,h){var j=this,a=j.getSignUpPage(),l=a.getValues(true),i=Account.getProxy();var f=j.self.accountValidate(a,l);var d=j.response;if(f",595854,51,"j.establishConnectionMsg});console.debug(\"Creating Account ...\");var c={version:KickBak.constants.clientVersion,name:l.name,email:l.username,password:l.password,phone:l.phone.replace(/-/g,\"\")};if(d){c=Ext.applyIf(c,d)}",595856,49,"j.creatingAccountMsg});Account.setCreateAccount",596593,42,"version:KickBak.constants.clientVersion,device_pixel_ratio:window.devicePixelRatio,user:Ext.encode(c),device:Ext.encode({}),web_signup:true",595994,57,"!e.wasSuccessful()){}else{a.signUpSuccessPopup()}}})}},onToggleFB:function(a,g,c,h,d,e){var f=this,b=KickBak.db.getLocalDB();if(h==1){KickBak.fb.on(\"connected\",f.updateFBSignUpPopupCallback,f);KickBak.fb.on(\"unauthorized\",f.updateFBSignUpPopupCallback,f);KickBak.fb.on(\"exception\",f.updateFBSignUpPopupCallback,f);f.updateFBSignUpPopup(f.signupTitle,a)",596944,720,"b=this,a=KickBak.db.getLocalDB();b.updateAccountInfo();b",597694,96,"b.openPage(\"signup\");if(a.fbLoginInProgress){KickBak.fb.on(\"connected\",b.updateFBSignUpPopupCallback,b);KickBak.fb.on(\"unauthorized\",b.updateFBSignUpPopupCallback,b);KickBak.fb.on(\"exception\",b.updateFBSignUpPopupCallback,b)}",597810,1075]